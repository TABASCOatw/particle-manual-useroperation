"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.sendUserOperation = void 0;
const getAction_js_1 = require("../../utils/getAction.js");
const index_js_1 = require("../../utils/index.js");
const sendUserOperation_js_1 = require("../bundler/sendUserOperation.js");
const prepareUserOperationRequest_js_1 = require("./prepareUserOperationRequest.js");
async function sendUserOperation(client, args) {
    const { account: account_ = client.account } = args;
    if (!account_)
        throw new index_js_1.AccountOrClientNotFoundError();
    const account = (0, index_js_1.parseAccount)(account_);
    const userOperation = await (0, getAction_js_1.getAction)(client, prepareUserOperationRequest_js_1.prepareUserOperationRequest)(args);
    userOperation.signature = await account.signUserOperation(userOperation);
    const userOpHash = await (0, getAction_js_1.getAction)(client, sendUserOperation_js_1.sendUserOperation, "sendUserOperation")({
        userOperation: userOperation,
        entryPoint: account.entryPoint
    });
    return userOpHash;
}
exports.sendUserOperation = sendUserOperation;
//# sourceMappingURL=sendUserOperation.js.map